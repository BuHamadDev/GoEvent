<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Venues - GoEvent</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"></script>
</head>
<body>

<!-- Navigation bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <img src="images/GoEventLogo.jpg" alt="Uniform Logo" width="50">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="Create.html">Create Event</a></li>
        <li class="nav-item"><a class="nav-link" href="BookNow.html">Book Now</a></li>
        <li class="nav-item"><a class="nav-link" href="bookForm.html">Book Form</a></li>
        <li class="nav-item"><a class="nav-link active" href="Venues.html">Venues</a></li>
        <li class="nav-item"><a class="nav-link" href="About.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li>
        <li class="nav-item"><a class="nav-link" href="news.html">News</a></li>
        <li class="nav-item"><a class="nav-link" href="billCalculator.html">Calculator</a></li>
        <li class="nav-item"><a class="nav-link" href="Questionnaire.html">Questionnaire</a></li>
        <li class="nav-item"><a class="nav-link" href="funpage.html">Fun Page</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main content -->
<div class="container my-5">
  <h1 class="mb-4">Available Venues</h1>

  <!-- Dynamic table for venues -->
  <table id="venueTable" class="table table-striped table-bordered align-middle">
    <thead class="table-primary">
      <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Capacity</th>
        <th>Facilities</th>
        <th>Location</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Form to add new venues -->
  <h3 class="mt-5">Add New Venue</h3>
  <form onsubmit="addVenue(); return false;" class="row g-2">
    <div class="col-md-4"><input type="text" id="venueName" class="form-control" placeholder="Venue Name" required></div>
    <div class="col-md-4"><input type="text" id="venueCapacity" class="form-control" placeholder="Capacity" required></div>
    <div class="col-md-4"><input type="text" id="venueFacilities" class="form-control" placeholder="Facilities" required></div>
    <div class="col-md-4"><input type="text" id="venueLocation" class="form-control" placeholder="Location" required></div>
    <div class="col-md-4"><button type="submit" class="btn btn-success w-100">Add Venue</button></div>
  </form>

  <!-- Form to search venues -->
  <h3 class="mt-5">Search Venues</h3>
  <form onsubmit="searchVenue(); return false;" class="d-flex gap-2">
    <input type="text" id="venueQuery" class="form-control" placeholder="Search by name or location">
    <button type="submit" class="btn btn-info">Search</button>
  </form>
</div>

<!-- Footer -->
<footer class="bg-primary text-white text-center py-3 mt-5">
  <p class="mb-0">&copy; 2025 GoEvent. All rights reserved.</p>
  <p class="mb-0">Discover. Join. Connect.</p>
</footer>

<script>
  // -----------------------------
  // Define a Venue object type
  // -----------------------------
  function Venue(image, name, capacity, facilities, location) {
    this.image = image;       // path to venue image
    this.name = name;         // venue name
    this.capacity = capacity; // seating capacity
    this.facilities = facilities; // facilities description
    this.location = location; // venue location
  }

  // -----------------------------
  // Initialize array with 2 venues
  // -----------------------------
  let venues = [
    new Venue("images/conventionImage.jpg", "Oman Convention Center", "3,200 + 456 seats", "Auditoriums, exhibition halls, ballrooms, meeting rooms, hospitality suites", "Muscat, Oman"),
    new Venue("images/ComputerLab.jfif", "Computer Lab", "30 seats", "PCs, projector, whiteboard, internet access", "SQU CS Building")
  ];

  // -----------------------------
  // Function to display venues in table
  // -----------------------------
  function displayVenues(list = venues) {
    let tableBody = document.querySelector("#venueTable tbody");
    tableBody.innerHTML = ""; // clear previous rows

    list.forEach(v => {
      let row = `
        <tr>
          <td><img src="${v.image}" alt="${v.name}" class="img-fluid rounded" style="max-width:200px;"></td>
          <td>${v.name}</td>
          <td>${v.capacity}</td>
          <td>${v.facilities}</td>
          <td>${v.location}</td>
        </tr>
      `;
      tableBody.innerHTML += row;
    });
  }

  // -----------------------------
  // Function to add a new venue
  // -----------------------------
  function addVenue() {
    let name = document.getElementById("venueName").value;
    let capacity = document.getElementById("venueCapacity").value;
    let facilities = document.getElementById("venueFacilities").value;
    let location = document.getElementById("venueLocation").value;

    venues.push(new Venue("images/default.jpg", name, capacity, facilities, location));
    displayVenues();
  }

  // -----------------------------
  // Function to search venues
  // -----------------------------
  function searchVenue() {
    let query = document.getElementById("venueQuery").value.toLowerCase();
    let results = venues.filter(v => 
      v.name.toLowerCase().includes(query) || 
      v.location.toLowerCase().includes(query)
    );
    displayVenues(results);
  }

  // -----------------------------
  // Show first two venues on page load
  // -----------------------------
  window.onload = () => {
    displayVenues(venues.slice(0,2));
  };
</script>

</body>
</html>

